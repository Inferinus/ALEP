<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loan Application Form</title>
    <script>
        async function handleSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const formProps = Object.fromEntries(formData);
            try {
                let response = await fetch('/api/predict_loan_eligibility', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formProps),
                });
                let result = await response.json();
                alert('Application ' + result.status);
            } catch (error) {
                alert('An error occurred: ' + error.message);
            }
        }
    </script>
</head>
<body>
    <h2>Loan Application Form</h2>
    <form onsubmit="handleSubmit(event)">
        <div>
            <label for="gender">Gender:</label>
            <select name="gender" required>
                <option value="">Select</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
        </div>
        <div>
            <label for="married">Married:</label>
            <select name="married" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>
        <div>
            <label for="dependents">Dependents:</label>
            <input type="number" name="dependents" required />
        </div>
        <div>
            <label for="education">Education:</label>
            <select name="education" required>
                <option value="">Select</option>
                <option value="Graduate">Graduate</option>
                <option value="Not Graduate">Not Graduate</option>
            </select>
        </div>
        <div>
            <label for="selfEmployed">Self Employed:</label>
            <select name="selfEmployed" required>
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>
        <div>
            <label for="applicantIncome">Applicant Income:</label>
            <input type="number" name="applicantIncome" required />
        </div>
        <div>
            <label for="coapplicantIncome">Coapplicant Income:</label>
            <input type="number" name="coapplicantIncome" required />
        </div>
        <div>
            <label for="loanAmount">Loan Amount:</label>
            <input type="number" name="loanAmount" required />
        </div>
        <div>
            <label for="loanTerm">Loan Term (in months):</label>
            <input type="number" name="loanTerm" required />
        </div>
        <div>
            <label for="creditHistory">Credit History:</label>
            <select name="creditHistory" required>
                <option value="">Select</option>
                <option value="1">Good</option>
                <option value="0">Bad</option>
            </select>
        </div>
        <div>
            <label for="propertyArea">Property Area:</label>
            <select name="propertyArea" required>
                <option value="">Select</option>
                <option value="Urban">Urban</option>
                <option value="Rural">Rural</option>
                <option value="Semiurban">Semiurban</option>
            </select>
        </div>
        <button type="submit">Submit</button>
    </form>
</body>
</html>
